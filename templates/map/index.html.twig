{% extends 'base.html.twig' %}

{% block body %}
    <div id="map" style="height: 100vh;"></div>
    <script type="text/javascript">
        var map = new L.Map('map');

        var osmUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            osmAttrib = 'Map data &copy; 2022 OpenStreetMap contributors (https://www.openstreetmap.org/copyright)',
            osm = new L.TileLayer(osmUrl, {maxZoom: 18, attribution: osmAttrib});

        map.setView(new L.LatLng(54.911824, 23.923679), 13).addLayer(osm);

        {% if locations|default(null) %}
            {% for loc in locations %}
                var marker = L.marker([{{ loc.lat }}, {{ loc.long }}]).addTo(map);
            {% endfor %}
        {% endif %}

        marker.bindPopup("<b>Marker test.</b>").openPopup();

        var popup = L.popup();

        function onMapClick(e) {
            popup.setLatLng(e.latlng)
                .setContent("You clicked the map at " + e.latlng.toString())
                .openOn(map);
        }

        map.on('click', onMapClick);
    </script>
{% endblock %}


{% block navigation %}
    {{ parent() }}
{% endblock %}

